<div class="container mt-5">
  <div class="card">
    <div class="row g-0">
      {{#if successMessage}}
        <div id="alert" class="alert alert-success" role="alert">
          {{successMessage}}
        </div>
      {{/if}}
      <div class="col-md-4">
        {{#if product.thumbnails.length}}
          <img src="{{product.thumbnails.[0]}}" class="img-fluid rounded-start" alt="{{product.title}}">
        {{else}}
          <div class="placeholder-image bg-secondary text-white d-flex align-items-center justify-content-center">
            Sin imagen
          </div>
        {{/if}}
      </div>
      <div class="col-md-8">
        <div class="card-body">
          <h2 class="card-title">{{product.title}}</h2>
          <p class="card-text">{{product.description}}</p>
          <ul class="list-group list-group-flush">
            <li class="list-group-item"><strong>Precio:</strong> ${{product.price}}</li>
            <li class="list-group-item"><strong>Stock:</strong> {{product.stock}} unidades</li>
            <li class="list-group-item"><strong>Categoría:</strong> {{product.category}}</li>
            <li class="list-group-item"><strong>Código:</strong> {{product.code}}</li>
          </ul>
          <div class="mt-3">
            
            <form action="/api/carts" method="POST">
              <input type="hidden" name="productId" value="{{product._id}}">
              <button type="submit" class="btn btn-primary">Agregar al carrito</button>
            </form>
            <a href="/" class="btn btn-outline-secondary">Volver</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  
  const alert = document.getElementById("alert");
  if (alert) {
    setTimeout(() => {
      alert.remove();
    }, 3000);
  }
</script>

<style>
  .placeholder-image {
    height: 300px;
    font-size: 1.5rem;
  }
  .card {
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
  }
</style>